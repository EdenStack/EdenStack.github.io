---
layout:     post
title:      activity初步
date:       2015-01-10 17:59:18
summary:    activity初步
author:     Tneciv
categories: android
thumbnail: android
tags:
 - activity
---


actionbar初始化方式：

	getSupportActionBar().setHomeButtonEnabled(true);

	getSupportActionBar().setDisplayHomeAsUpEnabled(true);

activity生命周期：
> 当打开一个Activity时，调用顺序是:
``onCreate->onStart->onPostCreate->onResume->onPostResume``

> 1.点击Back键(后退键)
>> 调用顺序是: ``onPause->onStop->onDestroy``

>2.点击Home键
>> 和back键的区别是没有调用onDestroy方法

两个activity存在时：
> 跳转到第二个Activity前:
* 先调用onPause方法，
* 然后和打开第一个Activity一样，分别调用了``onCreate->onStart->onPostCreate->onResume->onPostResume``
* 最后，第一个Activity调用了onStop方法。

> 再点击Back键，返回到第一个Activity:
* 首先第二个Activity调用onPause方法，
* 然后第一个方法会先调用onRestart方法，
* 然后调用onStart方法，
* 接着onResume->onPostResume,
* 最后第二个Activity调用了onStop->onDestroy方法。

如果用户点击了后退键，除非重写了onBackPressed方法，否则一定会调用onDestroy方法(因为基类Activity对方法的实现是调用finish方法)

onCreate方法以及onPostCreate方法有且仅调用一次。
切换到其他Activity时，该Activity会调用onPause,接着另外一个Activity调用一些方法后，会再调用前一个Activity的onStop方法，下一次回到该Activity时，会调用onRestart方法。
一个Activity切换到第二个Activity后，前一个Activity被压入栈中。

屏幕待机（黑掉）onPause
屏幕变亮  onResume -> onPostResume